import{Q as R}from"./QInnerLoading.3c8a4032.js";import{d as V,_ as Q,C as m,G as g,H as l,f as o,J as a,N as r,c as i,Q as f,o as N,r as P,M as D,D as I,O as v,K as w}from"./index.834e57e7.js";import{Q as u}from"./QInput.3adc570b.js";import{Q as h}from"./QTooltip.7869642a.js";import{e as q,Q as B}from"./QTable.fc905379.js";import{Q as k}from"./QPage.2b43f395.js";import{u as _}from"./index.e13618b0.js";import{Q as C}from"./QCardSection.b35a0002.js";import{Q as $}from"./QSeparator.771723a9.js";import{Q as y}from"./QImg.017392b3.js";import{Q as U}from"./QCardActions.6e08bd30.js";import{Q as A}from"./QCard.90c0a547.js";import{Q as L}from"./QFile.5a0779e4.js";import"./use-dark.3a8cdb55.js";import"./format.2e604a71.js";import"./use-id.8bff53a2.js";import"./uid.42677368.js";import"./use-key-composition.c129f1c2.js";import"./use-form.534894e6.js";import"./QList.9f1dfa09.js";import"./rtl.b51694b1.js";import"./QItem.e5da3e33.js";import"./QItemLabel.932b52ee.js";import"./QCheckbox.bc6af6e4.js";import"./axios.473f2f39.js";const T=V({name:"consumabledetails",setup(){return{consumablesstore:_()}}}),G=a("h6",null,"Consumable Details Page",-1),M={class:"row items-center"},O={class:"col q-pa-sm"},j={class:"row items-center"},E={class:"col q-pa-sm"},F={class:"row items-center"},H={class:"col q-pa-sm"};function J(e,s,d,c,p,b){return m(),g(k,{class:"q-pa-sm"},{default:l(()=>[o(q,{modelValue:e.consumablesstore.consumabledetailsdialog,"onUpdate:modelValue":s[3]||(s[3]=t=>e.consumablesstore.consumabledetailsdialog=t),"backdrop-filter":"blur(4px)",persistent:""},{default:l(()=>[o(A,{style:{width:"700px","max-width":"80vw"}},{default:l(()=>[o(C,null,{default:l(()=>[G]),_:1}),o($),o(C,{class:"scroll"},{default:l(()=>[a("div",M,[a("div",O,[o(u,{modelValue:e.consumablesstore.consumabledetailsitem.name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.consumablesstore.consumabledetailsitem.name=t),label:"Name",readonly:""},null,8,["modelValue"])])]),a("div",j,[a("div",E,[o(u,{modelValue:e.consumablesstore.consumabledetailsitem.description,"onUpdate:modelValue":s[1]||(s[1]=t=>e.consumablesstore.consumabledetailsitem.description=t),label:"Description",readonly:""},null,8,["modelValue"])])]),a("div",F,[a("div",H,[o(y,{src:e.consumablesstore.consumabledetailsitem.image,"spinner-color":"white",style:{height:"140px","max-width":"150px"}},null,8,["src"])])])]),_:1}),o($),o(U,{align:"left"},{default:l(()=>[o(r,{outline:"",label:"Close",color:"red",onClick:s[2]||(s[2]=t=>e.consumablesstore.closeConsumableDetailsDialog())})]),_:1})]),_:1})]),_:1},8,["modelValue","backdrop-filter"])]),_:1})}var K=Q(T,[["render",J]]);const z=V({name:"consumabledetails",setup(){const e=_(),s=i(()=>e.createconsumableitem);return{consumablesstore:e,createconsumableitem:s}},methods:{onSelected(){this.createconsumableitem.image!=null?this.createconsumableitem.imageurl=window.URL.createObjectURL(this.createconsumableitem.image):this.createconsumableitem.imageurl=null}}}),W=a("h6",null,"Add Consumable Item",-1),X={class:"row items-center"},Y={class:"col q-pa-sm"},Z={class:"row items-center"},x={class:"col q-pa-sm"},ee={class:"row items-center",style:{"max-width":"300px"}},se={class:"row items-center"},oe={class:"col q-pa-sm"};function le(e,s,d,c,p,b){return m(),g(k,{class:"q-pa-sm"},{default:l(()=>[o(q,{modelValue:e.consumablesstore.addconsumableitemdialog,"onUpdate:modelValue":s[6]||(s[6]=t=>e.consumablesstore.addconsumableitemdialog=t),"backdrop-filter":"blur(4px)",persistent:""},{default:l(()=>[o(A,{style:{width:"700px","max-width":"80vw"}},{default:l(()=>[o(C,null,{default:l(()=>[W]),_:1}),o($),o(C,{class:"scroll"},{default:l(()=>[a("div",X,[a("div",Y,[o(u,{label:"Name",modelValue:e.createconsumableitem.name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.createconsumableitem.name=t),filled:""},{prepend:l(()=>[o(f,{name:"123"})]),_:1},8,["modelValue"])])]),a("div",Z,[a("div",x,[o(u,{label:"Description",modelValue:e.createconsumableitem.description,"onUpdate:modelValue":s[1]||(s[1]=t=>e.createconsumableitem.description=t),filled:""},{prepend:l(()=>[o(f,{name:"description"})]),_:1},8,["modelValue"])])]),a("div",ee,[o(L,{modelValue:e.createconsumableitem.image,"onUpdate:modelValue":[s[2]||(s[2]=t=>e.createconsumableitem.image=t),s[3]||(s[3]=t=>e.onSelected())],label:"Image",clearable:"",filled:""},{prepend:l(()=>[o(f,{name:"attach_file"})]),_:1},8,["modelValue"])]),a("div",se,[a("div",oe,[o(y,{src:e.createconsumableitem.imageurl,"spinner-color":"black",style:{height:"140px","max-width":"150px"}},null,8,["src"])])])]),_:1}),o($),o(U,{align:"left"},{default:l(()=>[o(r,{outline:"",label:"Close",color:"red",onClick:s[4]||(s[4]=t=>e.consumablesstore.closeAddConsumableItemDialog())}),o(r,{outline:"",label:"Save",color:"blue",loading:e.consumablesstore.postconsumableitemloading,onClick:s[5]||(s[5]=t=>e.consumablesstore.postConsumableItem())},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue","backdrop-filter"])]),_:1})}var te=Q(z,[["render",le]]);const ae=V({name:"consumables",setup(){const e=_(),s=i(()=>e.tableindexcolumns),d=i(()=>e.consumableItems),c=i(()=>e.listallitemstableloading),p=i({get:()=>e.selected,set:t=>e.selected=t}),b=i(()=>e.hasSelection);return N(()=>e.getAllItems()),{consumablesstore:e,tableindexcolumns:s,tableindexrows:d,listallitemstableloading:c,selected:p,hasSelection:b,indextablefilter:P("")}},methods:{onRowClick(e,s,d){this.consumablesstore.openConsumableDetailsDialog(s)},clickRemoveItem(){console.log(this.selected[0]),this.consumablesstore.deleteConsumableItem(this.selected[0])}},components:{ConsumableDetailsDialogPage:K,AddConsumableDialog:te}}),ne={class:"row items-center"},ie={class:"col items-center"},me={class:"row"},re={key:0},de={key:1};function ue(e,s,d,c,p,b){const t=D("ConsumableDetailsDialogPage"),S=D("AddConsumableDialog");return m(),g(k,{class:"q-pa-sm"},{default:l(()=>[a("div",ne,[a("div",ie,[a("div",me,[e.$q.platform.is.desktop?(m(),I("h2",re,"Consumables")):v("",!0),e.$q.platform.is.mobile?(m(),I("h6",de,"Consumables")):v("",!0)])])]),o(B,{title:"Consumables List","auto-width":"",flat:"",bordered:"",selection:"single",selected:e.selected,"onUpdate:selected":s[4]||(s[4]=n=>e.selected=n),separator:"vertical",columns:e.tableindexcolumns,rows:e.tableindexrows,filter:e.indextablefilter,loading:e.listallitemstableloading,onRowClick:e.onRowClick},{loading:l(()=>[o(R,{showing:"",color:"primary"})]),"top-right":l(()=>[o(u,{class:"q-mr-sm",dense:"",debounce:"500",modelValue:e.indextablefilter,"onUpdate:modelValue":s[0]||(s[0]=n=>e.indextablefilter=n),placeholder:"Search",outlined:""},{append:l(()=>[o(f,{name:"search"})]),_:1},8,["modelValue"]),o(r,{class:"q-mr-sm",color:"primary",icon:"add",onClick:s[1]||(s[1]=n=>e.consumablesstore.openAddConsumableItemDialog())},{default:l(()=>[o(h,{class:"bg-accent"},{default:l(()=>[w("Add Item")]),_:1})]),_:1}),e.hasSelection?(m(),g(r,{key:0,class:"q-mr-sm",color:"primary",icon:"remove",onClick:s[2]||(s[2]=n=>e.clickRemoveItem())},{default:l(()=>[o(h,{class:"bg-accent"},{default:l(()=>[w("Remove Item")]),_:1})]),_:1})):v("",!0),o(r,{class:"q-mr-sm",color:"primary",icon:"sync",onClick:s[3]||(s[3]=n=>e.consumablesstore.getAllItems())},{default:l(()=>[o(h,{class:"bg-accent"},{default:l(()=>[w("Get Latest Data")]),_:1})]),_:1})]),_:1},8,["selected","columns","rows","filter","loading","onRowClick"]),o(t),o(S)]),_:1})}var Le=Q(ae,[["render",ue]]);export{Le as default};
