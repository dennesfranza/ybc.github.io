import{d as y,c as f,r as k,_ as w,M as Q,C as c,G as b,H as o,f as t,D as T,E as F,F as D,N as d,J as n,Q as u,K as g,O as E,g as I,x as N}from"./index.834e57e7.js";import{e as A,f as _,Q as B}from"./QTable.fc905379.js";import{Q as C}from"./QInput.3adc570b.js";import{Q as H,a as P}from"./QPopupProxy.3bf96fe9.js";import{Q as V}from"./QTooltip.7869642a.js";import{Q as S}from"./QPage.2b43f395.js";import{C as R}from"./ClosePopup.3ca82e04.js";import{u as O,F as L}from"./FormHeader.35f5a2b6.js";import{u as U}from"./index.b13597b3.js";import{u as M}from"./index.722b3f9a.js";import{u as j}from"./index.87294496.js";import{u as $}from"./index.3b3f4c48.js";import{Q as v}from"./QCardSection.b35a0002.js";import{Q as h}from"./QSeparator.771723a9.js";import{Q as z,a as G}from"./QItem.e5da3e33.js";import{Q as J}from"./QCardActions.6e08bd30.js";import{Q as K}from"./QCard.90c0a547.js";import{u as W}from"./index.bc0a6893.js";import{u as X}from"./index.e13618b0.js";import"./QList.9f1dfa09.js";import"./use-dark.3a8cdb55.js";import"./rtl.b51694b1.js";import"./use-id.8bff53a2.js";import"./uid.42677368.js";import"./use-key-composition.c129f1c2.js";import"./QItemLabel.932b52ee.js";import"./format.2e604a71.js";import"./use-form.534894e6.js";import"./QCheckbox.bc6af6e4.js";import"./use-cache.b0833c75.js";import"./date.9d662269.js";import"./use-quasar.34ea7664.js";import"./axios.473f2f39.js";const Y=y({name:"toolsequiptransferslip",setup(){const e=U(),a=W(),l=X(),i=$(),m=f(()=>i.createequipmenttransferitems),q=f(()=>i.addequipmenttransferitemdialog),p=f(()=>i.equipmentitemsinput);return{locationstore:e,requisitionstore:a,consumablesstore:l,equipttransferstore:i,createequipmenttransferitems:m,addequipmenttransferitemdialog:q,equipmentitemsinput:p}},methods:{updateModel(e){e!=null&&(console.log(e),this.requisitionstore.retrieveRequisitionItem(e))},filterRsNumber(e,a,l){a(()=>{e===""?this.rsnumberoptions=k([]):e.length>=2&&this.requisitionstore.searchRsNumber(e)})},filterFn(e,a,l){a(()=>{e===""?this.options=k([]):this.consumablesstore.searchConsumable(e)})},onUpdate(e){console.log(e);let a=this.consumablesstore.consumablesearchresults.find(l=>l.id===e);console.log(a.name)},add(){console.log(this.createequipmenttransferitems)}}}),Z=n("h6",null,"Equipment Transfer",-1);function x(e,a,l,i,m,q){const p=Q("q-row");return c(),b(S,{class:"q-pa-sm"},{default:o(()=>[t(A,{modelValue:e.addequipmenttransferitemdialog,"onUpdate:modelValue":a[1]||(a[1]=r=>e.addequipmenttransferitemdialog=r),persistent:"",maximized:""},{default:o(()=>[t(K,null,{default:o(()=>[t(v,null,{default:o(()=>[Z]),_:1}),t(h),t(v,{class:"scroll"},{default:o(()=>[(c(!0),T(D,null,F(e.equipmentitemsinput,r=>(c(),b(p,{class:"q-gutter-xs",key:r.name},{default:o(()=>[r.type==="input"?(c(),b(C,{key:0,filled:"",label:r.label,modelValue:e.createequipmenttransferitems[r.name],"onUpdate:modelValue":s=>e.createequipmenttransferitems[r.name]=s},{prepend:o(()=>[t(u,{name:r.icon,color:"black"},null,8,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"])):r.type==="select"?(c(),b(_,{key:1,label:r.label,modelValue:e.createequipmenttransferitems[r.name],"onUpdate:modelValue":[s=>e.createequipmenttransferitems[r.name]=s,e.onUpdate],"use-input":"","hide-selected":"",filled:"","fill-input":"","map-options":"","emit-value":"","input-debounce":"0",options:e.consumablesstore.consumableOptions,onFilter:e.filterFn},{"no-option":o(()=>[t(z,null,{default:o(()=>[t(G,{class:"text-grey"},{default:o(()=>[g(" No results ")]),_:1})]),_:1})]),prepend:o(()=>[t(u,{name:r.icon,color:"black"},null,8,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue","options","onFilter"])):E("",!0)]),_:2},1024))),128))]),_:1}),t(h),t(J,{align:"left"},{default:o(()=>[t(d,{outline:"",label:"Close",color:"red",onClick:a[0]||(a[0]=r=>e.equipttransferstore.closeCreateDialog())}),t(d,{outline:"",label:"Add",color:"primary",onClick:e.add},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ee=w(Y,[["render",x]]);const te=y({name:"toolsequiptransferslip",setup(){const e=O(),a=U(),l=M(),i=j(),m=$(),q=e[I().type.name],p=f(()=>m.createequipmenttransferitem),r=f(()=>m.tablecreatecolumns),s=f(()=>m.tablecreaterows);return{formheaders:e,locationstore:a,userstore:l,loginstore:i,equipttransferstore:m,formHeader:q,createequipmenttransferitem:p,tablecreatecolumns:r,tablecreaterows:s}},components:{FormHeaderVue:L,AddEquipmentTransferDialog:ee}}),oe={class:"row items-center"},ae={class:"col q-pa-sm"},re={class:"col q-pa-sm"},se={class:"row items-center"},ne={class:"col q-pa-sm"},le={class:"col q-pa-sm"},ie={class:"row items-center justify-end"},me={class:"q-pt-md"},pe={class:"row items-center"},de={class:"col q-pa-sm"};function ue(e,a,l,i,m,q){const p=Q("form-header-vue"),r=Q("AddEquipmentTransferDialog");return c(),b(S,{class:"q-pa-sm"},{default:o(()=>[t(p,{headers:e.formHeader.headers,name:`Create ${e.formHeader.name}`},null,8,["headers","name"]),n("div",oe,[n("div",ae,[t(_,{label:"From",options:e.locationstore.locationOptions,"map-options":"","emit-value":"",modelValue:e.createequipmenttransferitem.location_from,"onUpdate:modelValue":a[0]||(a[0]=s=>e.createequipmenttransferitem.location_from=s)},{prepend:o(()=>[t(u,{name:"map",color:"black"})]),_:1},8,["options","modelValue"])]),n("div",re,[t(_,{label:"To",options:e.locationstore.locationOptions,"map-options":"","emit-value":"",modelValue:e.createequipmenttransferitem.location_to,"onUpdate:modelValue":a[1]||(a[1]=s=>e.createequipmenttransferitem.location_to=s)},{prepend:o(()=>[t(u,{name:"map",color:"black"})]),_:1},8,["options","modelValue"])])]),n("div",se,[n("div",ne,[t(C,{modelValue:e.createequipmenttransferitem.tets_number,"onUpdate:modelValue":a[2]||(a[2]=s=>e.createequipmenttransferitem.tets_number=s),label:"TETS Number"},{prepend:o(()=>[t(u,{name:"123",color:"black"})]),_:1},8,["modelValue"])]),n("div",le,[t(C,{class:"fit",modelValue:e.createequipmenttransferitem.date,"onUpdate:modelValue":a[4]||(a[4]=s=>e.createequipmenttransferitem.date=s),label:"Date"},{prepend:o(()=>[t(u,{name:"event",class:"cursor-pointer"},{default:o(()=>[t(H,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[t(P,{modelValue:e.createequipmenttransferitem.date,"onUpdate:modelValue":a[3]||(a[3]=s=>e.createequipmenttransferitem.date=s),mask:e.equipttransferstore.dateFormat,"today-btn":""},{default:o(()=>[n("div",ie,[N(t(d,{label:"Close",color:"primary",flat:""},null,512),[[R]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),n("div",me,[t(B,{title:"Items List",separator:"vertical",columns:e.tablecreatecolumns,rows:e.tablecreaterows,"row-key":"description_label","auto-width":"",flat:"",bordered:""},{"top-right":o(()=>[t(d,{class:"q-mr-sm",color:"primary",icon:"add",onClick:a[5]||(a[5]=s=>e.equipttransferstore.openCreateDialog())},{default:o(()=>[t(V,{class:"bg-accent"},{default:o(()=>[g("Add Item")]),_:1})]),_:1}),t(d,{class:"q-mr-sm",color:"primary",icon:"remove",onClick:e.loginstore},{default:o(()=>[t(V,{class:"bg-accent"},{default:o(()=>[g("Remove Item")]),_:1})]),_:1},8,["onClick"]),t(d,{class:"q-mr-sm",color:"primary",icon:"restart_alt"},{default:o(()=>[t(V,{class:"bg-accent"},{default:o(()=>[g("Reset")]),_:1})]),_:1}),t(d,{class:"q-mr-sm",color:"primary",loading:e.loginstore,icon:"save",onClick:e.loginstore},{default:o(()=>[t(V,{class:"bg-accent"},{default:o(()=>[g("Save")]),_:1})]),_:1},8,["loading","onClick"])]),_:1},8,["columns","rows"])]),n("div",pe,[n("div",de,[t(_,{label:"Prepared By",options:e.loginstore.preparedByOptions,"map-options":"","emit-value":"",modelValue:e.createequipmenttransferitem.prepared_by,"onUpdate:modelValue":a[6]||(a[6]=s=>e.createequipmenttransferitem.prepared_by=s)},{prepend:o(()=>[t(u,{name:"fact_check",color:"black"})]),_:1},8,["options","modelValue"])])]),t(r)]),_:1})}var Ge=w(te,[["render",ue]]);export{Ge as default};
